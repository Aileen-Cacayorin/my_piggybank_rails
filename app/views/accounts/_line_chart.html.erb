<div id="transaction_chart" ></div>
<script type="text/javascript">

  $(function() {
    drawChart();
  });

  function drawChart() {
    var data = new google.visualization.DataTable();
     data.addColumn('date', 'Transaction Date');
     data.addColumn('number', 'Balance');

     data.addRows([
       <% @chart_data.each do |day| %>
       [ new Date ('<%= day[:date] %>'),( <%= day[:total] %>)],
       <% end %>
      ]);

     var options = {
       title: 'Transaction History',
       legend: { position: 'bottom' }
     };

     var chart = new google.visualization.LineChart(document.getElementById('transaction_chart'));
     chart.draw(data, options);
     }

     $(document).ready(function () {
      $(window).resize(function(){
        drawChart();
      });
    });
</script>
